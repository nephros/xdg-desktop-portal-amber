<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- index.qdoc -->
  <title>XDG Desktop Portal Amber 1.0</title>
  <link rel="stylesheet" type="text/css" href="style/offline.css" />
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="content">
  </div>
  <div class="breadcrumb">
    <ul>
      <!--  Breadcrumbs go here -->
    </ul>
  </div>
</div>
<div class="content">
<h1 class="title">XDG Desktop Portal Amber</h1>
<span class="subtitle"></span>
<!-- $$$index.html-description -->
<div class="descr"> <a name="details"></a>
<a name="uidoc"></a><p>A backend implementation of <a href="http://github.com/flatpak/xdg-desktop-portal">XDG Desktop Portals</a> for Sailfish OS.</p>
<a name="implementation-status"></a>
<h3 >Implementation Status</h3>
<p>For an overview of the status of the project, see the <a href="https://github.com/nephros/xdg-desktop-portal-amber/blob/poc/doc/SailfishOS_Iface_Table.md">Interface Table</a> in the source repository.</p>
<a name="building"></a>
<h3 >Building</h3>
<p>Since this is intended to be used on Sailfish OS only, building is SFOS-specific. The source repo is set up to be used with the <code>tar_git</code> service on <a href="https://build.sailfishos.org">Community OBS</a>. Just create your project and package, and add the following <code>_service</code> file:</p>
<pre class="cpp"> &lt;services&gt;
   &lt;service name=&quot;tar_git&quot;&gt;
   &lt;param name=&quot;url&quot;&gt;https://github.com/nephros/xdg-desktop-portal-amber.git&lt;/param&gt;
   &lt;param name=&quot;branch&quot;&gt;&lt;/param&gt;
   &lt;param name=&quot;revision&quot;&gt;&lt;/param&gt;
   &lt;param name=&quot;token&quot;/&gt;
   &lt;param name=&quot;debian&quot;&gt;N&lt;/param&gt;
   &lt;param name=&quot;dumb&quot;&gt;N&lt;/param&gt;
 &lt;/service&gt;
 &lt;/services&gt;</pre>
<p>If you don't have OBS, you will probably have to modify the <code>.spec</code> file in the <code>rpm/</code> subdirectory.</p>
<p>Generally you will need the following dependencies:</p>
<ul>
<li><code>pkgconfig</code></li>
<li><code>pkgconfig(systemd)</code></li>
<li><code>pkgconfig(dbus-1)</code></li>
<li><code>pkgconfig(Qt5Core)</code></li>
<li><code>pkgconfig(Qt5Gui)</code></li>
<li><code>pkgconfig(Qt5DBus)</code></li>
<li><code>pkgconfig(mlite5)</code></li>
<li><code>cmake</code></li>
</ul>
<p>To build the UI, you will also need</p>
<ul>
<li><code>pkgconfig(Qt5Quick)</code></li>
<li><code>pkgconfig(sailfishapp)</code></li>
<li><code>qmake</code></li>
</ul>
<p>Then run something like</p>
<pre class="cpp"> cmake -DCMAKE_VERBOSE_MAKEFILE=ON -DCMAKE_INSTALL_PREFIX:PATH=/usr -DINCLUDE_INSTALL_DIR:PATH=/usr/include -DLIB_INSTALL_DIR:PATH=lib -DSYSCONF_INSTALL_DIR:PATH=/etc -DSHARE_INSTALL_PREFIX:PATH=/usr/share -DCMAKE_SKIP_RPATH:BOOL=ON -DBUILD_SHARED_LIBS:BOOL=ON
 makea/usr/bin/make -O -j6 V=1 VERBOSE=1</pre>
<a name="installing"></a>
<h3 >Installing</h3>
<a name="testing"></a>
<h3 >Testing</h3>
<p>For brief instructions on how to install and test, see the <a href="https://github.com/nephros/xdg-desktop-portal-amber/blob/poc/doc/README_Testing.md">Testing README</a> in the source repository.</p>
<a name="reference"></a>
<h2 id="reference">Reference</h2>
<p>C++ Classes:</p>
<div class="table"><table class="annotated">
<tr class="odd topAlign"><td class="tblName"><p><a href="amber-accessportal.html">Amber::AccessPortal</a></p></td><td class="tblDescr"><p>Implementation of </p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="amber-emailportal.html">Amber::EmailPortal</a></p></td><td class="tblDescr"><p>Implementation of </p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="amber-filechooserportal.html">Amber::FileChooserPortal</a></p></td><td class="tblDescr"><p>Implementation of </p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="amber-screenshotportal.html">Amber::ScreenshotPortal</a></p></td><td class="tblDescr"><p>Implementation of </p></td></tr>
<tr class="odd topAlign"><td class="tblName"><p><a href="amber-settingsportal.html">Amber::SettingsPortal</a></p></td><td class="tblDescr"><p>Implementation of </p></td></tr>
<tr class="even topAlign"><td class="tblName"><p><a href="amber-wallpaperportal.html">Amber::WallpaperPortal</a></p></td><td class="tblDescr"><p>Implementation of </p></td></tr>
</table></div>
<p>QML Types:</p>
<p  class="centerAlign functionIndex"><b><a href="#f">F</a>&nbsp;<a href="#x">X</a>&nbsp;</b></p>
<div class="flowListDiv">
<dl class="flowList odd"><dt class="alphaChar"><a name="f"></a><b>F</b></dt>
<dd><a href="qml-filepickerdialog.html">FilePickerDialog</a></dd>
</dl>
<dl class="flowList even"><dt class="alphaChar"><a name="x"></a><b>X</b></dt>
<dd><a href="qml-xdg-desktop-portal-amber-ui.html">xdg-desktop-portal-amber-ui</a></dd>
</dl>
</div>
</div>
<!-- @@@index.html -->
</div>
<div class="footer">
  <p><acronym title="Copyright">&copy;</acronym> 2024 Sailfish OS Community.</p>
  <p>All other trademarks are property of their respective owners.</p>
  <p>
    This document may be used under the terms of the      <a href="http://www.gnu.org/licenses/fdl.html">GNU Free Documentation License version 1.3</a>     as published by the Free Software Foundation.   </p>
</div>
</body>
</html>
